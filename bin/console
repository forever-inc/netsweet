#!/usr/bin/env ruby

require 'bundler/setup'
require 'dotenv'
require 'pry'

environment = ARGV[0] || 'sandbox'
env_path = Pathname.new(".env.#{environment}")

if env_path.exist?
  Dotenv.load(env_path)
else
  raise ArgumentError.new("Must provide a .env.#{environment} file to configure Netsweet!") unless env_path.exist?
end

require 'netsweet'
load 'config/netsweet.rb'

puts "Netsweet v#{Netsweet::VERSION} loaded in #{environment} mode."

Pry.start

